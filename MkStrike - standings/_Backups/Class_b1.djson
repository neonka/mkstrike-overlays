{"Variables":{"DashboardVariables":[{"VariableName":"baseFontSize","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return 17;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"totalWidth","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return 700;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"classIndex","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return '03';"},"EvaluateBeforeScreenRoles":false},{"VariableName":"carCount","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return 4;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"carCountPlayer","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return 10;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"disconnectedOpacity","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return 60;"},"EvaluateBeforeScreenRoles":false}]},"DashboardDebugManager":{"WindowPositionSettings":{"IsFullScreen":false,"Position":"595,-773,854,610","TopMost":false,"AllowTransparency":false,"CloseOnMonitorLoss":false,"NoWindowActivate":false}},"Version":2,"Id":"1154b657-4c68-469e-9b71-b27cd68d8ef5","BaseHeight":500,"BaseWidth":700,"BackgroundColor":"#FF000000","Screens":[{"RenderingSkip":0,"Name":"Screen","InGameScreen":true,"IdleScreen":true,"PitScreen":false,"ScreenId":"6d52640b-236a-4b6e-a6c4-854747f684a5","AllowOverlays":true,"IsForegroundLayer":false,"IsOverlayLayer":false,"OverlayTriggerExpression":{"Expression":""},"ScreenEnabledExpression":{"Expression":""},"OverlayMaxDuration":0,"OverlayMinDuration":0,"IsBackgroundLayer":false,"BackgroundColor":"#00FFFFFF","Items":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":true,"Repetitions":0,"RepeatTopOffset":24.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":2,"PrepareRepetitions":true,"RepeatTopOffset":25.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.WidgetItem, SimHub.Plugins","Variables":{"DashboardVariables":[{"VariableName":"driverIndex","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return +repeatindex() - 1; // drivers are indexed from 0"},"EvaluateBeforeScreenRoles":false},{"VariableName":"classIndex1","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":1,"Interpreter":1,"Expression":"return $prop('variable.classIndex');"},"EvaluateBeforeScreenRoles":false}]},"NextScreenCommand":0,"PreviousScreenCommand":0,"AutoSize":true,"FileName":"Car.djson","InitialScreenIndex":0,"FreezePageChanges":false,"EnableScreenRolesAndActivation":true,"BackgroundColor":"#00FFFFFF","Height":25.0,"Left":0.0,"Top":22.0,"Visible":true,"Width":700.0,"Name":"Car","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"Visible":true,"Name":"Top3or10","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Repetitions":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nconst oponents = +$prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_OpponentsWithPosition');\r\nconst positionInClass = $prop(\"IRacingExtraProperties.iRacing_Player_PositionInClass\");\r\n\r\nif(!positionInClass)\r\n{\t// player doesnt have position, display top ten of his class\r\n\treturn Math.min(10, oponents);\r\n} else if(positionInClass <= 10) {\r\n\treturn Math.min(10, oponents);\r\n}\r\nelse{\t// player has position greater than 10, display top 3\r\n\treturn 3;\r\n}"},"Mode":2},"RepeatTopOffset":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return mk_getRowHeight() - 1;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":6,"PrepareRepetitions":true,"RepeatTopOffset":25.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.WidgetItem, SimHub.Plugins","Variables":{"DashboardVariables":[{"VariableName":"driverIndex","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":1,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nconst oponents = +$prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_OpponentsWithPosition');\r\nconst positionInClass = $prop(\"IRacingExtraProperties.iRacing_Player_PositionInClass\");\r\n\r\nlet from;\r\nif(positionInClass === oponents){\r\n\tfrom = oponents - 7;\r\n} \r\nelse {\r\n\tfrom = positionInClass - 4;\r\n}\r\n\r\nconst result = from + +repeatindex() - 1; // drivers are indexed from 0\r\nreturn result;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"classIndex1","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":1,"Interpreter":1,"Expression":"return $prop('variable.classIndex');"},"EvaluateBeforeScreenRoles":false}]},"NextScreenCommand":0,"PreviousScreenCommand":0,"AutoSize":true,"FileName":"Car.djson","InitialScreenIndex":0,"FreezePageChanges":false,"EnableScreenRolesAndActivation":true,"BackgroundColor":"#00FFFFFF","Height":25.0,"Left":0.0,"Top":102.0,"Visible":true,"Width":700.0,"Name":"Car","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Top":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return mk_getPlayerClassOtherCarsTopOffset()"},"Mode":2}}}],"Visible":true,"Name":"PlayerPart","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nconst positionInClass = $prop(\"IRacingExtraProperties.iRacing_Player_PositionInClass\");\r\nreturn positionInClass > 10;"},"Mode":2},"RepeatTopOffset":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return mk_getRowHeight() - 1;"},"Mode":2},"Repetitions":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nconst oponents = +$prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_OpponentsWithPosition');\r\nconst positionInClass = $prop(\"IRacingExtraProperties.iRacing_Player_PositionInClass\");\r\n\r\nlet from;\r\nif(positionInClass == oponents){\r\n\tfrom = oponents - 7;\r\n} \r\nelse {\r\n\r\n\tfrom = positionInClass - 3;\r\n}\r\n\r\nif(from + 7 > oponents){\r\n\treturn oponents - from + 1; // - 1\r\n\t//return from + 7 - oponents;\r\n}else{\r\n\treturn 7;\r\n}"},"Mode":2}}}],"Visible":true,"Name":"PlayerClasss","RenderingSkip":100,"MinimumRefreshIntervalMS":1000.0,"Bindings":{"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return mk_isPlayerClass($prop('variable.classIndex'));"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":true,"Repetitions":0,"PrepareRepetitions":true,"RepeatTopOffset":24.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.WidgetItem, SimHub.Plugins","Variables":{"DashboardVariables":[{"VariableName":"driverIndex","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return +repeatindex() - 1; // drivers are indexed from 0"},"EvaluateBeforeScreenRoles":false},{"VariableName":"classIndex1","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":1,"Interpreter":1,"Expression":"return $prop('variable.classIndex');"},"EvaluateBeforeScreenRoles":false}]},"NextScreenCommand":0,"PreviousScreenCommand":0,"AutoSize":true,"FileName":"Car.djson","InitialScreenIndex":0,"FreezePageChanges":false,"EnableScreenRolesAndActivation":true,"BackgroundColor":"#00FFFFFF","Height":25.0,"Left":0.0,"Top":22.0,"Visible":true,"Width":700.0,"Name":"Car","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"Visible":false,"Name":"OtherClass","RenderingSkip":100,"MinimumRefreshIntervalMS":1000.0,"Bindings":{"Repetitions":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return mk_getNumberOfCarsInNonPlayerClass($prop('variable.classIndex'));"},"Mode":2},"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return !mk_isPlayerClass($prop('variable.classIndex'));"},"Mode":2},"RepeatTopOffset":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return mk_getRowHeight() - 1;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#970F0F0F","Height":20.0,"Left":105.0,"Top":2.0,"Visible":true,"Width":500.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"BackgroundColor":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nlet color = ''+$prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_Color');\r\nif(color)\r\n\tcolor = '#5F'+color.substring(3, color.length);\r\n\r\nreturn color;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FFFFFFFF","Height":2.0,"Left":0.0,"Top":21.0,"Visible":true,"Width":633.0,"Name":"border","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"BackgroundColor":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nreturn $prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_Color');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":true,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":true,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FFFFFFFF","BorderStyle":{"RadiusTopRight":5},"Height":20.0,"Left":614.0,"Top":2.0,"Visible":true,"Width":20.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"BackgroundColor":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nreturn $prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_Color');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.ImageItem, SimHub.Plugins","Image":"helmet","AutoSize":true,"AutoSizeScale":0.05,"BackgroundColor":"#00FFFFFF","BorderStyle":{"RadiusTopRight":5},"Height":15.15,"Left":616.0,"Top":5.0,"Visible":true,"Width":14.700000000000001,"Name":"ImageItem","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"Visible":true,"Name":"Helmet","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingLeft":5},"FontSize":17.0,"Text":"5","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":0,"BackgroundColor":"#FFFFFFFF","BorderStyle":{"RadiusTopLeft":5},"Height":20.0,"Left":591.0,"Top":2.0,"Visible":true,"Width":24.0,"Name":"CarCount","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nreturn $prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_OpponentsCount');"},"Mode":2},"FontSize":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"return $prop('variable.baseFontSize')"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nreturn $prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_Color');"},"Mode":2}}}],"Visible":true,"Name":"CarCount","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingLeft":5},"FontSize":15.0,"Text":"SoF 2.5k","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":0,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":154.0,"Top":2.0,"Visible":true,"Width":90.0,"Name":"SOF","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nreturn 'SoF ' + $prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_SoFk');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingLeft":5},"FontSize":17.0,"Text":"GTP","TextColor":"#FF000000","HorizontalAlignment":0,"VerticalAlignment":0,"BackgroundColor":"#FFF0F8FF","BorderStyle":{"RadiusTopLeft":5,"RadiusTopRight":5},"Height":20.0,"Left":0.0,"Top":2.0,"Visible":true,"Width":150.0,"Name":"ClassName","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nconst className = $prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_Name');\r\nif(!className || className == '')\r\n\treturn 'All Cars';\r\n\t\r\nreturn className;"},"Mode":2},"FontSize":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"return $prop('variable.baseFontSize')"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const classIndex = $prop('variable.classIndex');\r\nreturn $prop('IRacingExtraProperties.iRacing_ClassInfo_' + classIndex + '_Color');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingLeft":5},"FontSize":15.0,"Text":"Int.","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":0,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":350.0,"Top":2.0,"Visible":true,"Width":48.0,"Name":"Interval","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingLeft":5},"FontSize":15.0,"Text":"Fastest","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":0,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":402.0,"Top":2.0,"Visible":true,"Width":80.0,"Name":"Fastest lap time","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingLeft":5},"FontSize":15.0,"Text":"Last","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":0,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":487.0,"Top":2.0,"Visible":true,"Width":80.0,"Name":"Last lap time","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"Visible":true,"Name":"Header","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"MinimumRefreshIntervalMS":0.0}],"SnapToGrid":false,"HideLabels":true,"ShowForeground":true,"ForegroundOpacity":100.0,"ShowBackground":true,"BackgroundOpacity":100.0,"ShowBoundingRectangles":false,"GridSize":10,"Images":[{"Name":"helmet","Extension":".png","Modified":false,"Optimized":true,"Width":294,"Height":303,"Length":3709,"MD5":"3afde9f7e4b920241e8521d7fdec1b26"}],"Metadata":{"SimHubVersion":"9.4.4","ScreenCount":1.0,"InGameScreensIndexs":[0],"IdleScreensIndexs":[0],"MainPreviewIndex":0,"IsOverlay":true,"Width":700.0,"Height":500.0,"OverlaySizeWarning":false,"MetadataVersion":2.0,"EnableOnDashboardMessaging":true,"PitScreensIndexs":[]},"ShowOnScreenControls":true,"IsOverlay":true,"EnableClickThroughOverlay":true,"EnableOnDashboardMessaging":true}